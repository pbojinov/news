"use strict";angular.module("techNewsAggregatorApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","relativeDate"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("techNewsAggregatorApp").controller("MainCtrl",["$scope","$window","FeedManager","FeedService",function(a,b,c,d){a.feeds=[],a.loadFeeds=function(){var b=c.getFeeds();console.assert(b.length>1,"Feed count is > 1"),angular.forEach(b,function(b){var c=b,e=c.name,f=c.url;console.assert(e,"Feed name is not empty"),console.assert(f,"Feed url is not empty"),d.getFeed(f).then(function(b){var c=b.data.responseData.feed;console.log(c),a.feeds.push(c)}).catch(function(b){a.error=b})})},a.loadFeeds()}]),angular.module("techNewsAggregatorApp").service("FeedService",["$http","$q",function(a,b){function c(c){return a({method:"JSONP",url:d,params:{q:c,callback:"JSON_CALLBACK",num:30}}).then(function(a){return a}).catch(function(a){console.error("error in product fetch ",a),b.reject({error:a})})}var d="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0";return{getFeed:c}}]),angular.module("techNewsAggregatorApp").service("FeedManager",[function(){function a(){return d}function b(){d.push(c("Hacker News","https://news.ycombinator.com/rss")),d.push(c("Designer News","https://news.layervault.com/?format=rss")),d.push(c("Sidecar.io","http://feeds.sidebar.io/SidebarFeed"))}function c(a,b){var c={};return c.name=a,c.url=b,c}var d=[];return b(),{getFeeds:a}}]),angular.module("techNewsAggregatorApp").filter("lastModified",["$q","relativeDate",function(a,b){return function(a){var a=b.set(a);return a}}]),function(){angular.module("relativeDate",[]).provider("relativeDate",function(){var a,b;return b="MMM d, yyyy",a=22,this.defaultFallbackFormat=function(a){return b=a},this.cutoffDayCount=function(b){return a=b},this.$get=["dateFilter","$interval",function(c){var d,e;return d=function(a){return"undefined"!=typeof a?a:b},e=function(b,e){var f,g,h;return f=new Date(b||""),h=((new Date).getTime()-f.getTime())/1e3,g=Math.floor(h/86400),isNaN(g)||0>g||g>=a?c(b,d(e)):0===g&&(60>h&&"just now"||120>h&&"about 1 minute ago"||3600>h&&Math.floor(h/60)+" minutes ago"||7200>h&&"about 1 hour ago"||86400>h&&Math.floor(h/3600)+" hours ago")||1===g&&"Yesterday"||7>g&&g+" days ago"||7===g&&"a week ago"||Math.ceil(g/7)+" weeks ago"},{set:function(a,b){var c,d,f;return d=e(a,b),f=function(){},c=function(){},d}}}],this})}.call(this);